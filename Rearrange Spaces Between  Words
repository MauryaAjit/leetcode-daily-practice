class Solution {
    public String reorderSpaces(String text) {
          int totalSpaces = 0;
        for (char c : text.toCharArray()) {
            if (c == ' ') totalSpaces++;
        }
        String[] words = text.trim().split("\\s+");
        int numWords = words.length;

        if (numWords == 1) {
            StringBuilder sb = new StringBuilder(words[0]);
            for (int i = 0; i < totalSpaces; i++) sb.append(" ");
            return sb.toString();
        }

        int spacesBetween = totalSpaces / (numWords - 1);
        int extraSpaces = totalSpaces % (numWords - 1);

        String space = " ".repeat(spacesBetween);
        StringBuilder result = new StringBuilder();

        for (int i = 0; i < numWords; i++) {
            result.append(words[i]);
            if (i < numWords - 1) result.append(space);
        }

        result.append(" ".repeat(extraSpaces));

        return result.toString();
        
    }
}
